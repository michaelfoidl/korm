apply plugin: 'kotlin'
apply plugin: 'kotlin-kapt'

sourceSets {
    main {
        java {
            srcDir "${buildDir.absolutePath}/generated/source/kaptKotlin/main"
        }
    }
}

test {
    onlyIf {
        false
    }
}

task integrationTest(type: Test) {
    description = "Runs the integration tests (located in src/test/...)."
    group = 'verification'
    testClassesDirs = sourceSets.test.output.classesDirs
    classpath = sourceSets.test.runtimeClasspath
}

dependencies {
    implementation kotlin_core
    implementation kotlin_reflection

    testImplementation junit_api
    testRuntimeOnly junit_engine
    testImplementation kluent

    compileOnly project(':annotations')
    kapt project(':processor')
    compile project(':core')

    implementation 'org.jetbrains.exposed:exposed:0.10.4'
}